import{a as W,F as Ge,j as $}from"./jsx-runtime-37f7df21.js";import{r as y}from"./index-f1f2c4b1.js";import{p as je,s as We,i as qe}from"./Button-ab0893ea.js";import{u as ze,i as $e,m as Ye}from"./utils-8b0f2dd3.js";var Qe=Object.defineProperty,Je=(s,e,t)=>e in s?Qe(s,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):s[e]=t,A=(s,e,t)=>(Je(s,typeof e!="symbol"?e+"":e,t),t);function Ze(s){const e={};for(const t of f.list)t.matchStyle(s)&&Object.assign(e,t.cssForeground);return e}function Ne(s){const e=[];for(const t of s.extra||[])e.push(Ne(t));return{children:e,component:s,style:Ze(s)}}function Lt(s){const e=s.indexOf("ยง");if(e===-1)return{text:s};const t={text:s.substring(0,e)};let r="";const o={bold:!1,obfuscated:!1,strikethrough:!1,underlined:!1,italic:!1,color:void 0};for(let n=e;n<s.length;n++)if(s.charCodeAt(n)===167&&n+1<s.length){r.length!==0&&(t.extra||(t.extra=[]),t.extra.push({text:r,...o}),r="");const u=f.fromCode(s.charAt(n+1).toLowerCase());u&&u.applyToStyle(o),++n}else r+=s[n];return r.length!==0&&(t.extra||(t.extra=[]),t.extra.push({text:r,...o})),t}var a=class{constructor(s,e,t,r,o,n){this.key=s,this.value=e,this.name=t,this.code=r,this.cssForeground=o,this.cssBackground=n}applyToStyle(s){s[this.key]=this.value}matchStyle(s){return s[this.key]===this.value}static fromCode(s){const t="0123456789abcdefklmnor".indexOf(s);if(t)return this.list[t]}toString(){return`${a.CONTROL_STRING}${this.code}`}},f=a;A(f,"CONTROL_STRING","ยง");A(f,"BLACK",new a("color","black","BLACK","0",{color:"#000000"},{color:"#000000"}));A(f,"DARK_BLUE",new a("color","dark_blue","DARK_BLUE","1",{color:"#0000AA"},{color:"#00002A"}));A(f,"DARK_GREEN",new a("color","dark_green","DARK_GREEN","2",{color:"#00AA00"},{color:"#002A00"}));A(f,"DARK_AQUA",new a("color","dark_aqua","DARK_AQUA","3",{color:"#00AAAA"},{color:"#002A2A"}));A(f,"DARK_RED",new a("color","dark_red","DARK_RED","4",{color:"#AA0000"},{color:"#2A0000"}));A(f,"DARK_PURPLE",new a("color","dark_purple","DARK_PURPLE","5",{color:"#AA00AA"},{color:"#2A002A"}));A(f,"GOLD",new a("color","gold","GOLD","6",{color:"#FFAA00"},{color:"#2A2A00"}));A(f,"GRAY",new a("color","gray","GRAY","7",{color:"#AAAAAA"},{color:"#2A2A2A"}));A(f,"DARK_GRAY",new a("color","dark_gray","DARK_GRAY","8",{color:"#555555"},{color:"#151515"}));A(f,"BLUE",new a("color","blue","BLUE","9",{color:"#5555FF"},{color:"#15153F"}));A(f,"GREEN",new a("color","green","GREEN","a",{color:"#55FF55"},{color:"#153F15"}));A(f,"AQUA",new a("color","aqua","AQUA","b",{color:"#55FFFF"},{color:"#153F3F"}));A(f,"RED",new a("color","red","RED","c",{color:"#FF5555"},{color:"#3F1515"}));A(f,"LIGHT_PURPLE",new a("color","light_purple","LIGHT_PURPLE","d",{color:"#FF55FF"},{color:"#3F153F"}));A(f,"YELLOW",new a("color","yellow","YELLOW","e",{color:"#FFFF55"},{color:"#3F3F15"}));A(f,"WHITE",new a("color","white","WHITE","f",{color:"#FFFFFF"},{color:"#3F3F3F"}));A(f,"OBFUSCATED",new a("obfuscated",!0,"OBFUSCATED","k",{}));A(f,"BOLD",new a("bold",!0,"BOLD","l",{"font-weight":"bold"}));A(f,"STRIKETHROUGH",new a("strikethrough",!0,"STRIKETHROUGH","m",{"text-decoration":"line-through"}));A(f,"UNDERLINE",new a("underlined",!0,"UNDERLINE","n",{"text-decoration":"underline"}));A(f,"ITALIC",new a("italic",!0,"ITALIC","o",{"font-style":"italic"}));A(f,"RESET",{name:"RESET",code:"r",applyToStyle(s){s.bold=!1,s.strikethrough=!1,s.underlined=!1,s.italic=!1,s.obfuscated=!1,s.color=void 0},matchStyle(s){return!1},cssBackground:{},cssForeground:{},toString(){return`${a.CONTROL_STRING}r`}});A(f,"list",[a.BLACK,a.DARK_BLUE,a.DARK_GREEN,a.DARK_AQUA,a.DARK_RED,a.DARK_PURPLE,a.GOLD,a.GRAY,a.DARK_GRAY,a.BLUE,a.GREEN,a.AQUA,a.RED,a.LIGHT_PURPLE,a.YELLOW,a.WHITE,a.OBFUSCATED,a.BOLD,a.STRIKETHROUGH,a.UNDERLINE,a.ITALIC,a.RESET]);const Xe=/([\p{Ll}\d])(\p{Lu})/gu,et=/(\p{Lu})([\p{Lu}][\p{Ll}])/gu,tt=/(\d)(\p{Ll})/gu,rt=/(\p{L})(\d)/gu,st=/[^\p{L}\d]+/giu,q="$1\0$2",ot="";function nt(s,e={}){const{separateNumbers:t}=e;let r=s.trim();r=r.replace(Xe,q).replace(et,q),t&&(r=r.replace(tt,q).replace(rt,q)),r=r.replace(st,"\0");let o=0,n=r.length;for(;r.charAt(o)==="\0";)o++;if(o===n)return[];for(;r.charAt(n-1)==="\0";)n--;return r.slice(o,n).split(/\0/g)}function it(s,e){return at(s,e==null?void 0:e.prefixCharacters)+nt(s,e).map(lt(e==null?void 0:e.locale)).join(" ")}function lt(s){return s===!1?e=>e.toLowerCase():e=>e.toLocaleLowerCase(s)}function at(s,e=ot){let t="";for(let r=0;r<s.length;r++){const o=s.charAt(r);if(e.includes(o))t+=o;else break}return t}/**
 * @license
 * Copyright 2019 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const z=window,de=z.ShadowRoot&&(z.ShadyCSS===void 0||z.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,pe=Symbol(),ye=new WeakMap;let Ie=class{constructor(e,t,r){if(this._$cssResult$=!0,r!==pe)throw Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=e,this.t=t}get styleSheet(){let e=this.o;const t=this.t;if(de&&e===void 0){const r=t!==void 0&&t.length===1;r&&(e=ye.get(t)),e===void 0&&((this.o=e=new CSSStyleSheet).replaceSync(this.cssText),r&&ye.set(t,e))}return e}toString(){return this.cssText}};const ct=s=>new Ie(typeof s=="string"?s:s+"",void 0,pe),ut=(s,...e)=>{const t=s.length===1?s[0]:e.reduce((r,o,n)=>r+(i=>{if(i._$cssResult$===!0)return i.cssText;if(typeof i=="number")return i;throw Error("Value passed to 'css' function must be a 'css' function result: "+i+". Use 'unsafeCSS' to pass non-literal values, but take care to ensure page security.")})(o)+s[n+1],s[0]);return new Ie(t,s,pe)},ht=(s,e)=>{de?s.adoptedStyleSheets=e.map(t=>t instanceof CSSStyleSheet?t:t.styleSheet):e.forEach(t=>{const r=document.createElement("style"),o=z.litNonce;o!==void 0&&r.setAttribute("nonce",o),r.textContent=t.cssText,s.appendChild(r)})},Ee=de?s=>s:s=>s instanceof CSSStyleSheet?(e=>{let t="";for(const r of e.cssRules)t+=r.cssText;return ct(t)})(s):s;/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */var re;const Q=window,be=Q.trustedTypes,dt=be?be.emptyScript:"",Se=Q.reactiveElementPolyfillSupport,ae={toAttribute(s,e){switch(e){case Boolean:s=s?dt:null;break;case Object:case Array:s=s==null?s:JSON.stringify(s)}return s},fromAttribute(s,e){let t=s;switch(e){case Boolean:t=s!==null;break;case Number:t=s===null?null:Number(s);break;case Object:case Array:try{t=JSON.parse(s)}catch{t=null}}return t}},Oe=(s,e)=>e!==s&&(e==e||s==s),se={attribute:!0,type:String,converter:ae,reflect:!1,hasChanged:Oe},ce="finalized";let N=class extends HTMLElement{constructor(){super(),this._$Ei=new Map,this.isUpdatePending=!1,this.hasUpdated=!1,this._$El=null,this._$Eu()}static addInitializer(e){var t;this.finalize(),((t=this.h)!==null&&t!==void 0?t:this.h=[]).push(e)}static get observedAttributes(){this.finalize();const e=[];return this.elementProperties.forEach((t,r)=>{const o=this._$Ep(r,t);o!==void 0&&(this._$Ev.set(o,r),e.push(o))}),e}static createProperty(e,t=se){if(t.state&&(t.attribute=!1),this.finalize(),this.elementProperties.set(e,t),!t.noAccessor&&!this.prototype.hasOwnProperty(e)){const r=typeof e=="symbol"?Symbol():"__"+e,o=this.getPropertyDescriptor(e,r,t);o!==void 0&&Object.defineProperty(this.prototype,e,o)}}static getPropertyDescriptor(e,t,r){return{get(){return this[t]},set(o){const n=this[e];this[t]=o,this.requestUpdate(e,n,r)},configurable:!0,enumerable:!0}}static getPropertyOptions(e){return this.elementProperties.get(e)||se}static finalize(){if(this.hasOwnProperty(ce))return!1;this[ce]=!0;const e=Object.getPrototypeOf(this);if(e.finalize(),e.h!==void 0&&(this.h=[...e.h]),this.elementProperties=new Map(e.elementProperties),this._$Ev=new Map,this.hasOwnProperty("properties")){const t=this.properties,r=[...Object.getOwnPropertyNames(t),...Object.getOwnPropertySymbols(t)];for(const o of r)this.createProperty(o,t[o])}return this.elementStyles=this.finalizeStyles(this.styles),!0}static finalizeStyles(e){const t=[];if(Array.isArray(e)){const r=new Set(e.flat(1/0).reverse());for(const o of r)t.unshift(Ee(o))}else e!==void 0&&t.push(Ee(e));return t}static _$Ep(e,t){const r=t.attribute;return r===!1?void 0:typeof r=="string"?r:typeof e=="string"?e.toLowerCase():void 0}_$Eu(){var e;this._$E_=new Promise(t=>this.enableUpdating=t),this._$AL=new Map,this._$Eg(),this.requestUpdate(),(e=this.constructor.h)===null||e===void 0||e.forEach(t=>t(this))}addController(e){var t,r;((t=this._$ES)!==null&&t!==void 0?t:this._$ES=[]).push(e),this.renderRoot!==void 0&&this.isConnected&&((r=e.hostConnected)===null||r===void 0||r.call(e))}removeController(e){var t;(t=this._$ES)===null||t===void 0||t.splice(this._$ES.indexOf(e)>>>0,1)}_$Eg(){this.constructor.elementProperties.forEach((e,t)=>{this.hasOwnProperty(t)&&(this._$Ei.set(t,this[t]),delete this[t])})}createRenderRoot(){var e;const t=(e=this.shadowRoot)!==null&&e!==void 0?e:this.attachShadow(this.constructor.shadowRootOptions);return ht(t,this.constructor.elementStyles),t}connectedCallback(){var e;this.renderRoot===void 0&&(this.renderRoot=this.createRenderRoot()),this.enableUpdating(!0),(e=this._$ES)===null||e===void 0||e.forEach(t=>{var r;return(r=t.hostConnected)===null||r===void 0?void 0:r.call(t)})}enableUpdating(e){}disconnectedCallback(){var e;(e=this._$ES)===null||e===void 0||e.forEach(t=>{var r;return(r=t.hostDisconnected)===null||r===void 0?void 0:r.call(t)})}attributeChangedCallback(e,t,r){this._$AK(e,r)}_$EO(e,t,r=se){var o;const n=this.constructor._$Ep(e,r);if(n!==void 0&&r.reflect===!0){const i=(((o=r.converter)===null||o===void 0?void 0:o.toAttribute)!==void 0?r.converter:ae).toAttribute(t,r.type);this._$El=e,i==null?this.removeAttribute(n):this.setAttribute(n,i),this._$El=null}}_$AK(e,t){var r;const o=this.constructor,n=o._$Ev.get(e);if(n!==void 0&&this._$El!==n){const i=o.getPropertyOptions(n),u=typeof i.converter=="function"?{fromAttribute:i.converter}:((r=i.converter)===null||r===void 0?void 0:r.fromAttribute)!==void 0?i.converter:ae;this._$El=n,this[n]=u.fromAttribute(t,i.type),this._$El=null}}requestUpdate(e,t,r){let o=!0;e!==void 0&&(((r=r||this.constructor.getPropertyOptions(e)).hasChanged||Oe)(this[e],t)?(this._$AL.has(e)||this._$AL.set(e,t),r.reflect===!0&&this._$El!==e&&(this._$EC===void 0&&(this._$EC=new Map),this._$EC.set(e,r))):o=!1),!this.isUpdatePending&&o&&(this._$E_=this._$Ej())}async _$Ej(){this.isUpdatePending=!0;try{await this._$E_}catch(t){Promise.reject(t)}const e=this.scheduleUpdate();return e!=null&&await e,!this.isUpdatePending}scheduleUpdate(){return this.performUpdate()}performUpdate(){var e;if(!this.isUpdatePending)return;this.hasUpdated,this._$Ei&&(this._$Ei.forEach((o,n)=>this[n]=o),this._$Ei=void 0);let t=!1;const r=this._$AL;try{t=this.shouldUpdate(r),t?(this.willUpdate(r),(e=this._$ES)===null||e===void 0||e.forEach(o=>{var n;return(n=o.hostUpdate)===null||n===void 0?void 0:n.call(o)}),this.update(r)):this._$Ek()}catch(o){throw t=!1,this._$Ek(),o}t&&this._$AE(r)}willUpdate(e){}_$AE(e){var t;(t=this._$ES)===null||t===void 0||t.forEach(r=>{var o;return(o=r.hostUpdated)===null||o===void 0?void 0:o.call(r)}),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(e)),this.updated(e)}_$Ek(){this._$AL=new Map,this.isUpdatePending=!1}get updateComplete(){return this.getUpdateComplete()}getUpdateComplete(){return this._$E_}shouldUpdate(e){return!0}update(e){this._$EC!==void 0&&(this._$EC.forEach((t,r)=>this._$EO(r,this[r],t)),this._$EC=void 0),this._$Ek()}updated(e){}firstUpdated(e){}};N[ce]=!0,N.elementProperties=new Map,N.elementStyles=[],N.shadowRootOptions={mode:"open"},Se==null||Se({ReactiveElement:N}),((re=Q.reactiveElementVersions)!==null&&re!==void 0?re:Q.reactiveElementVersions=[]).push("1.6.3");/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */var oe;const J=window,I=J.trustedTypes,we=I?I.createPolicy("lit-html",{createHTML:s=>s}):void 0,ue="$lit$",R=`lit$${(Math.random()+"").slice(9)}$`,De="?"+R,pt=`<${De}>`,P=document,M=()=>P.createComment(""),B=s=>s===null||typeof s!="object"&&typeof s!="function",He=Array.isArray,ft=s=>He(s)||typeof(s==null?void 0:s[Symbol.iterator])=="function",ne=`[ 	
\f\r]`,k=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,Ce=/-->/g,Re=/>/g,x=RegExp(`>|${ne}(?:([^\\s"'>=/]+)(${ne}*=${ne}*(?:[^ 	
\f\r"'\`<>=]|("|')|))|$)`,"g"),xe=/'/g,Fe=/"/g,ke=/^(?:script|style|textarea|title)$/i,O=Symbol.for("lit-noChange"),v=Symbol.for("lit-nothing"),Te=new WeakMap,T=P.createTreeWalker(P,129,null,!1);function Me(s,e){if(!Array.isArray(s)||!s.hasOwnProperty("raw"))throw Error("invalid template strings array");return we!==void 0?we.createHTML(e):e}const _t=(s,e)=>{const t=s.length-1,r=[];let o,n=e===2?"<svg>":"",i=k;for(let u=0;u<t;u++){const c=s[u];let h,d,p=-1,_=0;for(;_<c.length&&(i.lastIndex=_,d=i.exec(c),d!==null);)_=i.lastIndex,i===k?d[1]==="!--"?i=Ce:d[1]!==void 0?i=Re:d[2]!==void 0?(ke.test(d[2])&&(o=RegExp("</"+d[2],"g")),i=x):d[3]!==void 0&&(i=x):i===x?d[0]===">"?(i=o??k,p=-1):d[1]===void 0?p=-2:(p=i.lastIndex-d[2].length,h=d[1],i=d[3]===void 0?x:d[3]==='"'?Fe:xe):i===Fe||i===xe?i=x:i===Ce||i===Re?i=k:(i=x,o=void 0);const g=i===x&&s[u+1].startsWith("/>")?" ":"";n+=i===k?c+pt:p>=0?(r.push(h),c.slice(0,p)+ue+c.slice(p)+R+g):c+R+(p===-2?(r.push(void 0),u):g)}return[Me(s,n+(s[t]||"<?>")+(e===2?"</svg>":"")),r]};class K{constructor({strings:e,_$litType$:t},r){let o;this.parts=[];let n=0,i=0;const u=e.length-1,c=this.parts,[h,d]=_t(e,t);if(this.el=K.createElement(h,r),T.currentNode=this.el.content,t===2){const p=this.el.content,_=p.firstChild;_.remove(),p.append(..._.childNodes)}for(;(o=T.nextNode())!==null&&c.length<u;){if(o.nodeType===1){if(o.hasAttributes()){const p=[];for(const _ of o.getAttributeNames())if(_.endsWith(ue)||_.startsWith(R)){const g=d[i++];if(p.push(_),g!==void 0){const L=o.getAttribute(g.toLowerCase()+ue).split(R),m=/([.?@])?(.*)/.exec(g);c.push({type:1,index:n,name:m[2],strings:L,ctor:m[1]==="."?mt:m[1]==="?"?vt:m[1]==="@"?$t:X})}else c.push({type:6,index:n})}for(const _ of p)o.removeAttribute(_)}if(ke.test(o.tagName)){const p=o.textContent.split(R),_=p.length-1;if(_>0){o.textContent=I?I.emptyScript:"";for(let g=0;g<_;g++)o.append(p[g],M()),T.nextNode(),c.push({type:2,index:++n});o.append(p[_],M())}}}else if(o.nodeType===8)if(o.data===De)c.push({type:2,index:n});else{let p=-1;for(;(p=o.data.indexOf(R,p+1))!==-1;)c.push({type:7,index:n}),p+=R.length-1}n++}}static createElement(e,t){const r=P.createElement("template");return r.innerHTML=e,r}}function D(s,e,t=s,r){var o,n,i,u;if(e===O)return e;let c=r!==void 0?(o=t._$Co)===null||o===void 0?void 0:o[r]:t._$Cl;const h=B(e)?void 0:e._$litDirective$;return(c==null?void 0:c.constructor)!==h&&((n=c==null?void 0:c._$AO)===null||n===void 0||n.call(c,!1),h===void 0?c=void 0:(c=new h(s),c._$AT(s,t,r)),r!==void 0?((i=(u=t)._$Co)!==null&&i!==void 0?i:u._$Co=[])[r]=c:t._$Cl=c),c!==void 0&&(e=D(s,c._$AS(s,e.values),c,r)),e}class At{constructor(e,t){this._$AV=[],this._$AN=void 0,this._$AD=e,this._$AM=t}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}u(e){var t;const{el:{content:r},parts:o}=this._$AD,n=((t=e==null?void 0:e.creationScope)!==null&&t!==void 0?t:P).importNode(r,!0);T.currentNode=n;let i=T.nextNode(),u=0,c=0,h=o[0];for(;h!==void 0;){if(u===h.index){let d;h.type===2?d=new V(i,i.nextSibling,this,e):h.type===1?d=new h.ctor(i,h.name,h.strings,this,e):h.type===6&&(d=new yt(i,this,e)),this._$AV.push(d),h=o[++c]}u!==(h==null?void 0:h.index)&&(i=T.nextNode(),u++)}return T.currentNode=P,n}v(e){let t=0;for(const r of this._$AV)r!==void 0&&(r.strings!==void 0?(r._$AI(e,r,t),t+=r.strings.length-2):r._$AI(e[t])),t++}}class V{constructor(e,t,r,o){var n;this.type=2,this._$AH=v,this._$AN=void 0,this._$AA=e,this._$AB=t,this._$AM=r,this.options=o,this._$Cp=(n=o==null?void 0:o.isConnected)===null||n===void 0||n}get _$AU(){var e,t;return(t=(e=this._$AM)===null||e===void 0?void 0:e._$AU)!==null&&t!==void 0?t:this._$Cp}get parentNode(){let e=this._$AA.parentNode;const t=this._$AM;return t!==void 0&&(e==null?void 0:e.nodeType)===11&&(e=t.parentNode),e}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(e,t=this){e=D(this,e,t),B(e)?e===v||e==null||e===""?(this._$AH!==v&&this._$AR(),this._$AH=v):e!==this._$AH&&e!==O&&this._(e):e._$litType$!==void 0?this.g(e):e.nodeType!==void 0?this.$(e):ft(e)?this.T(e):this._(e)}k(e){return this._$AA.parentNode.insertBefore(e,this._$AB)}$(e){this._$AH!==e&&(this._$AR(),this._$AH=this.k(e))}_(e){this._$AH!==v&&B(this._$AH)?this._$AA.nextSibling.data=e:this.$(P.createTextNode(e)),this._$AH=e}g(e){var t;const{values:r,_$litType$:o}=e,n=typeof o=="number"?this._$AC(e):(o.el===void 0&&(o.el=K.createElement(Me(o.h,o.h[0]),this.options)),o);if(((t=this._$AH)===null||t===void 0?void 0:t._$AD)===n)this._$AH.v(r);else{const i=new At(n,this),u=i.u(this.options);i.v(r),this.$(u),this._$AH=i}}_$AC(e){let t=Te.get(e.strings);return t===void 0&&Te.set(e.strings,t=new K(e)),t}T(e){He(this._$AH)||(this._$AH=[],this._$AR());const t=this._$AH;let r,o=0;for(const n of e)o===t.length?t.push(r=new V(this.k(M()),this.k(M()),this,this.options)):r=t[o],r._$AI(n),o++;o<t.length&&(this._$AR(r&&r._$AB.nextSibling,o),t.length=o)}_$AR(e=this._$AA.nextSibling,t){var r;for((r=this._$AP)===null||r===void 0||r.call(this,!1,!0,t);e&&e!==this._$AB;){const o=e.nextSibling;e.remove(),e=o}}setConnected(e){var t;this._$AM===void 0&&(this._$Cp=e,(t=this._$AP)===null||t===void 0||t.call(this,e))}}class X{constructor(e,t,r,o,n){this.type=1,this._$AH=v,this._$AN=void 0,this.element=e,this.name=t,this._$AM=o,this.options=n,r.length>2||r[0]!==""||r[1]!==""?(this._$AH=Array(r.length-1).fill(new String),this.strings=r):this._$AH=v}get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}_$AI(e,t=this,r,o){const n=this.strings;let i=!1;if(n===void 0)e=D(this,e,t,0),i=!B(e)||e!==this._$AH&&e!==O,i&&(this._$AH=e);else{const u=e;let c,h;for(e=n[0],c=0;c<n.length-1;c++)h=D(this,u[r+c],t,c),h===O&&(h=this._$AH[c]),i||(i=!B(h)||h!==this._$AH[c]),h===v?e=v:e!==v&&(e+=(h??"")+n[c+1]),this._$AH[c]=h}i&&!o&&this.j(e)}j(e){e===v?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,e??"")}}class mt extends X{constructor(){super(...arguments),this.type=3}j(e){this.element[this.name]=e===v?void 0:e}}const gt=I?I.emptyScript:"";class vt extends X{constructor(){super(...arguments),this.type=4}j(e){e&&e!==v?this.element.setAttribute(this.name,gt):this.element.removeAttribute(this.name)}}class $t extends X{constructor(e,t,r,o,n){super(e,t,r,o,n),this.type=5}_$AI(e,t=this){var r;if((e=(r=D(this,e,t,0))!==null&&r!==void 0?r:v)===O)return;const o=this._$AH,n=e===v&&o!==v||e.capture!==o.capture||e.once!==o.once||e.passive!==o.passive,i=e!==v&&(o===v||n);n&&this.element.removeEventListener(this.name,this,o),i&&this.element.addEventListener(this.name,this,e),this._$AH=e}handleEvent(e){var t,r;typeof this._$AH=="function"?this._$AH.call((r=(t=this.options)===null||t===void 0?void 0:t.host)!==null&&r!==void 0?r:this.element,e):this._$AH.handleEvent(e)}}class yt{constructor(e,t,r){this.element=e,this.type=6,this._$AN=void 0,this._$AM=t,this.options=r}get _$AU(){return this._$AM._$AU}_$AI(e){D(this,e)}}const Pe=J.litHtmlPolyfillSupport;Pe==null||Pe(K,V),((oe=J.litHtmlVersions)!==null&&oe!==void 0?oe:J.litHtmlVersions=[]).push("2.8.0");const Et=(s,e,t)=>{var r,o;const n=(r=t==null?void 0:t.renderBefore)!==null&&r!==void 0?r:e;let i=n._$litPart$;if(i===void 0){const u=(o=t==null?void 0:t.renderBefore)!==null&&o!==void 0?o:null;n._$litPart$=i=new V(e.insertBefore(M(),u),u,void 0,t??{})}return i._$AI(s),i};/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */var ie,le;class Y extends N{constructor(){super(...arguments),this.renderOptions={host:this},this._$Do=void 0}createRenderRoot(){var e,t;const r=super.createRenderRoot();return(e=(t=this.renderOptions).renderBefore)!==null&&e!==void 0||(t.renderBefore=r.firstChild),r}update(e){const t=this.render();this.hasUpdated||(this.renderOptions.isConnected=this.isConnected),super.update(e),this._$Do=Et(t,this.renderRoot,this.renderOptions)}connectedCallback(){var e;super.connectedCallback(),(e=this._$Do)===null||e===void 0||e.setConnected(!0)}disconnectedCallback(){var e;super.disconnectedCallback(),(e=this._$Do)===null||e===void 0||e.setConnected(!1)}render(){return O}}Y.finalized=!0,Y._$litElement$=!0,(ie=globalThis.litElementHydrateSupport)===null||ie===void 0||ie.call(globalThis,{LitElement:Y});const Le=globalThis.litElementPolyfillSupport;Le==null||Le({LitElement:Y});((le=globalThis.litElementVersions)!==null&&le!==void 0?le:globalThis.litElementVersions=[]).push("3.3.3");ut`
  .bg {
    position: absolute;
    top: 0;
    left: 0;
    background: rgba(0, 0, 0, 0.75);
    width: 100%;
    height: 100%;
  }

  .title {
    position: absolute;
    top: 0;
    left: 50%;
    transform: translate(-50%);
    font-size: 10px;
    color: white;
    text-align: center;
    text-shadow: 1px 1px #222;
  }

  .text {
    color: white;
    font-size: 10px;
    text-shadow: 1px 1px #222;
  }
`;function bt(s,e=!0){e?window.open(s,"_blank","noopener,noreferrer"):window.open(s)}const St=({message:s})=>{const e={"chat-message-fadeout":s.fading,"chat-message-fade":s.fading,"chat-message-faded":s.faded,"chat-message":!0};return $("li",{className:Object.entries(e).filter(([,t])=>t).map(([t])=>t).join(" "),children:s.parts.map((t,r)=>$(Z,{part:t},r))})},F=je({value:""}),It=(s,e,t)=>{setTimeout(()=>{s.fading=!0,t(),setTimeout(()=>{s.faded=!0,t()},3e3)},e?5e3:0)},Ot=({messages:s,opacity:e=1,fetchCompletionItems:t,opened:r,sendMessage:o,onClose:n})=>{const i=ze(Ye).currentTouch,u=y.useRef(JSON.parse(window.sessionStorage.chatHistory||"[]")),[c,h]=y.useState(""),d=y.useRef(""),[p,_]=y.useState([]),[g,L]=y.useState([]),m=y.useRef(null),b=y.useRef(null),ee=y.useRef(!1),w=y.useRef(u.current.length),fe=y.useRef(""),Be=l=>{u.current=l,window.sessionStorage.chatHistory=JSON.stringify(l),w.current=l.length},_e=l=>{const E=d.current==="/"?"":j();H(E+l),m.current.focus()},H=l=>{m.current.value=l,ve(),setTimeout(()=>{m.current.setSelectionRange(l.length,l.length)},0)};y.useEffect(()=>{},[]);const G=()=>{_([]),L([])};y.useEffect(()=>{if(r)return H(F.value),F.value="",i||m.current.focus(),We(F,()=>{F.value&&(H(F.value),F.value="",m.current.focus())});!r&&b.current&&(b.current.scrollTop=b.current.scrollHeight)},[r]),y.useMemo(()=>{r&&(d.current="",G())},[r]),y.useEffect(()=>{(!r||r&&ee.current)&&b.current&&(ee.current=!1,b.current.scrollTop=b.current.scrollHeight)},[s]),y.useMemo(()=>{if(r&&b.current){const l=b.current.scrollTop===b.current.scrollHeight-b.current.clientHeight;ee.current=l}},[s]);const Ae=l=>{m.current.focus(),document.dispatchEvent(new KeyboardEvent("keydown",{code:l}))},me=()=>{const l=m.current.value;return l.slice(0,m.current.selectionEnd??l.length)},j=(l=me())=>{const E=l.split(" "),S=E.at(-1).length,U=S?l.slice(0,-S):l;return E.length===1&&l.startsWith("/")?"/":U},te=async(l,E=m.current.value)=>{const S=j(E);d.current=S,G();const U=await(t==null?void 0:t(l?"implicit":"explicit",S,E))??[];S===d.current&&(_(U),ge(U))},ge=l=>{const E=l.filter(S=>{const U=S.split(/[_:]/),Ke=m.current.value.slice(0,m.current.selectionEnd??m.current.value.length).split(" ").at(-1);return[S,...U].some(Ve=>Ve.startsWith(Ke))});L(E)},ve=()=>{const l=j();if(h(l==="/"?"":l),d.current===l){ge(p);return}l.startsWith("/")?te(!0):G(),d.current=l};return W(Ge,{children:[$("div",{className:`chat-wrapper chat-messages-wrapper ${i?"display-mobile":""}`,hidden:qe(),children:e&&$("div",{ref:b,className:`chat ${r?"opened":""}`,id:"chat-messages",style:{opacity:e},children:s.map(l=>$(St,{message:l},l.id))})||void 0}),$("div",{className:`chat-wrapper chat-input-wrapper ${i?"input-mobile":""}`,hidden:!r,children:W("div",{className:"chat-input",children:[g!=null&&g.length?W("div",{className:"chat-completions",children:[$("div",{className:"chat-completions-pad-text",children:c}),$("div",{className:"chat-completions-items",children:g.map(l=>$("div",{onClick:()=>_e(l),children:l},l))})]}):null,W("form",{onSubmit:l=>{l.preventDefault();const E=m.current.value;E&&(Be([...u.current,E]),(o==null?void 0:o(E))!==!1&&(n==null||n()))},children:[$e&&$("input",{value:"",type:"text",className:"chat-mobile-hidden",id:"chatinput-next-command",spellCheck:!1,autoComplete:"off",onFocus:()=>Ae("ArrowUp"),onChange:()=>{}}),$("input",{defaultValue:"",ref:m,type:"text",className:"chat-input",id:"chatinput",spellCheck:!1,autoComplete:"off","aria-autocomplete":"both",onChange:ve,onKeyDown:l=>{if(l.code==="ArrowUp"){if(w.current===0)return;w.current===u.current.length&&(fe.current=l.currentTarget.value),w.current--,H(u.current[w.current]||"")}else if(l.code==="ArrowDown"){if(w.current===u.current.length)return;w.current++,H(u.current[w.current]||fe.current||"")}l.code==="Tab"&&(p.length?g.length&&_e(g[0]):te(!1),l.preventDefault()),l.code==="Space"&&(G(),m.current.value.startsWith("/")&&te(!0,j(me()+" ")))}}),$e&&$("input",{value:"",type:"text",className:"chat-mobile-hidden",id:"chatinput-prev-command",spellCheck:!1,autoComplete:"off",onFocus:()=>Ae("ArrowDown"),onChange:()=>{}}),$("button",{type:"submit",style:{visibility:"hidden"}})]})]})})]})};try{ChatContainer.displayName="ChatContainer",ChatContainer.__docgenInfo={description:"",displayName:"ChatContainer",props:{messages:{defaultValue:null,description:"",name:"messages",required:!0,type:{name:"Message[]"}},opacity:{defaultValue:null,description:"",name:"opacity",required:!1,type:{name:"number"}},opened:{defaultValue:null,description:"",name:"opened",required:!1,type:{name:"boolean"}},onClose:{defaultValue:null,description:"",name:"onClose",required:!1,type:{name:"(() => void)"}},sendMessage:{defaultValue:null,description:"",name:"sendMessage",required:!1,type:{name:"((message: string) => boolean | void)"}},fetchCompletionItems:{defaultValue:null,description:"",name:"fetchCompletionItems",required:!1,type:{name:'((triggerKind: "implicit" | "explicit", completeValue: string, fullValue: string, abortController?: AbortController) => Promise<void | string[]>)'}}}}}catch{}const wt=s=>{if(!s)return;const e=s.contents??s.value;if(typeof e=="string")return e;if(s.action==="show_item")return e.id;if(s.action==="show_entity"){let t=it(e.type.replace("minecraft:",""));return e.name&&(t+=`: ${e.name.text}`),t}},Ct=s=>{if(s){if(s.action==="run_command"||s.action==="suggest_command")return{onClick(){F.value=s.value}};if(s.action==="open_url")return{onClick(){window.confirm(`Open ${s.value}?`)&&bt(s.value)}};if(s.action==="copy_to_clipboard")return{onClick(){navigator.clipboard.writeText(s.value)}}}},Z=({part:s,...e})=>{const{color:t,italic:r,bold:o,underlined:n,strikethrough:i,text:u,clickEvent:c,hoverEvent:h,obfuscated:d}=s,p=Ct(c),_=wt(h),g=_&&typeof _!="string"?Ne(_).children.map(m=>m.component.text).join(""):_,L=[t?Ue(t.toLowerCase())+`; text-shadow: 1px 1px 0px ${Rt(Ue(t.toLowerCase()).replace("color:",""))}`:C.white,r&&C.italic,o&&C.bold,r&&C.italic,n&&C.underlined,i&&C.strikethrough,d&&C.obfuscated].filter(Boolean);return $("span",{title:g,style:he(L.join(" ")),...p,...e,children:u})},Dt=({parts:s})=>$("span",{children:s.map((e,t)=>$(Z,{part:e},t))}),Ue=s=>s.trim().startsWith("#")?`color:${s}`:C[s]??void 0;function Rt(s,e=.25){const t=parseInt(s.replace("#",""),16),r=Math.trunc((t>>16&255)*e),o=Math.trunc((t>>8&255)*e),n=Math.trunc((t&255)*e),i=u=>("00"+u.toString(16)).slice(-2);return`#${i(r)}${i(o)}${i(n)}`}function he(s){const e={};for(const t of s.split(";")){const[r,o]=t.split(":"),n=r.trim().replaceAll(/-./g,i=>i.toUpperCase()[1]);e[n]=o.trim()}return e}const C={black:"color:#000000",dark_blue:"color:#0000AA",dark_green:"color:#00AA00",dark_aqua:"color:#00AAAA",dark_red:"color:#AA0000",dark_purple:"color:#AA00AA",gold:"color:#FFAA00",gray:"color:#AAAAAA",dark_gray:"color:#555555",blue:"color:#5555FF",green:"color:#55FF55",aqua:"color:#55FFFF",red:"color:#FF5555",light_purple:"color:#FF55FF",yellow:"color:#FFFF55",white:"color:#FFFFFF",bold:"font-weight:900",strikethrough:"text-decoration:line-through",underlined:"text-decoration:underline",italic:"font-style:italic",obfuscated:"color: #222326;background-color: #222326;"};try{he.displayName="parseInlineStyle",he.__docgenInfo={description:"",displayName:"parseInlineStyle",props:{}}}catch{}try{Z.displayName="MessagePart",Z.__docgenInfo={description:"",displayName:"MessagePart",props:{part:{defaultValue:null,description:"",name:"part",required:!0,type:{name:"MessageFormatPart"}}}}}catch{}try{MessageFormatted.displayName="MessageFormatted",MessageFormatted.__docgenInfo={description:"",displayName:"MessageFormatted",props:{parts:{defaultValue:null,description:"",name:"parts",required:!0,type:{name:"readonly MessageFormatPart[]"}}}}}catch{}export{Ot as C,Dt as M,Lt as a,F as c,It as f};
//# sourceMappingURL=MessageFormatted-a5c81865.js.map
